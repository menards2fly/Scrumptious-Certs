<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><title>Dashboard</title><link href="styles.css" rel="stylesheet"/></head><body><div id="loader-wrapper"><div class="loader"></div></div><header><img src="logo.png" class="logo-img"/><nav id="main-nav" class="nav"></nav></header><div class="container main fade-in" data-delay="200"><h2>Your Announcements</h2><div id="ann"></div><h2>Your Certificate Status</h2><div id="stat"></div><section class="fade-in" data-delay="400" style="display:flex;gap:20px;margin-top:20px;"><div class="card"><h3>Device Status</h3><p id="dev"></p></div><div class="card"><h3>Download Certificates</h3><a id="dl" href="#" class="order-button">Download</a></div></section></div><script src="script.js"></script><script>document.addEventListener('DOMContentLoaded',function(){var u=localStorage.getItem('authUser');if(!u)location='login.html';fetch('data.json?v=' + Date.now()).then(r=>r.json()).then(d=>{d.announcements.all.concat(d.announcements[u]||[]).forEach(m=>ann.appendChild(Object.assign(document.createElement('p'),{textContent:m})));stat.textContent=d.certStatus[u]||d.certStatus.all;dev.textContent=d.deviceStatus[u]||d.deviceStatus.all;dl.href=d.certDownloadLink[u]||d.certDownloadLink.all;

        const exp = d.certExpires[u] || d.certExpires.all;
        if (exp) {
          const end = new Date(exp);
          const now = new Date();
          const diffTime = end - now;
          const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
          certCountdown.textContent = diffDays > 0 ? diffDays + " day(s) left" : "Expired";
        } else {
          certCountdown.textContent = "N/A";
        }
});});</script></body></html>